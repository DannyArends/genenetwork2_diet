{% extends "base.html" %}
{% block css %}
    <link rel="stylesheet" type="text/css" href="/static/packages/jqplot/jquery.jqplot.min.css" />
    <link rel="stylesheet" type="text/css" href="/static/new/packages/DataTables/css/jquery.dataTables.css" />
    <link rel="stylesheet" type="text/css" href="/static/packages/DT_bootstrap/DT_bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/static/packages/TableTools/media/css/TableTools.css" />
    <link rel="stylesheet" type="text/css" href="/static/new/css/corr_matrix.css" />
{% endblock %}
{% block content %}
    
    {{ header("Correlation Matrix") }}

   <div class="container">
	<div class="row-fluid show-grid">
            <div class="col-md-12"> Pearon's R </div>
        </div>
        <div class="row-fluid show-grid">
            <div class="col-md-1 col-md-pull-11">
                Spearman's Rho
            </div>
            <div class="col-md-11 col-md-push-1">
                
        	    <div class="table-responsive">
            	    <table class="table">
                	<th>
                    	{% for key in corr_results %}
                       	    <td>
                                <b>{{ key }}</b>
                    	    </td>
                    	{% endfor %}
                	</th>
                	{% for key in corr_results %}
                	<tr>
                    	    <td><b>{{ key }}</b></td>
                            {% for trait in corr_results[key] %}
                            {% if corr_results[key][trait].sample_r != 1 %}
                            <td><a target="_blank" href="corr_scatter_plot?dataset_1={{corr_results[key][trait].this_db}}&dataset_2={{corr_results[key][trait].target_db}}&trait_1={{corr_results[key][trait].this_trait}}&trait_2={{corr_results[key][trait].target_trait}}">{{ corr_results[key][trait].sample_r }}</a>
                            <br>
                            {{ corr_results[key][trait].num_overlap }}</td>
                    
                            {% else %}
                            <td bgcolor="#E6E6E6"> 1 </td>
                            {% endif %}
                            {% endfor %}
                        {% endfor %}
                        </tr>
                    </table>
                    </div> 
                      
            </div>
        </div>
   </div>
    
{% endblock %}

{% block js %}  
    <script language="javascript" type="text/javascript" src="/static/new/packages/DataTables/js/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="/static/new/packages/DataTables/js/jquery.dataTables.min.js"></script>
    <script language="javascript" type="text/javascript" src="/static/packages/DT_bootstrap/DT_bootstrap.js"></script>
    <script language="javascript" type="text/javascript" src="/static/packages/TableTools/media/js/TableTools.min.js"></script>
    <script language="javascript" type="text/javascript" src="/static/packages/underscore/underscore-min.js"></script>

{% endblock %}
