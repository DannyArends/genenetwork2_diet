// Generated by CoffeeScript 1.3.3
(function() {

  $(function() {
    var Permutation_Histogram, sort_number;
    sort_number = function(a, b) {
      return a - b;
    };
    Permutation_Histogram = (function() {

      function Permutation_Histogram() {
        this.process_data();
        this.display_graph();
      }

      Permutation_Histogram.prototype.process_data = function() {
        var bars, floored, key, keys, lrs, lrs_array, _i, _j, _len, _len1;
        lrs_array = js_data.lrs_array;
        bars = {};
        for (_i = 0, _len = lrs_array.length; _i < _len; _i++) {
          lrs = lrs_array[_i];
          floored = Math.floor(lrs);
          if (!(floored in bars)) {
            bars[floored] = 0;
          }
          bars[floored] += 1;
        }
        keys = [];
        for (key in bars) {
          keys.push(key);
        }
        keys.sort(sort_number);
        this.bars_ordered = [];
        for (_j = 0, _len1 = keys.length; _j < _len1; _j++) {
          key = keys[_j];
          this.bars_ordered.push([parseInt(key), bars[key]]);
        }
        console.log("bars is:", bars);
        console.log("keys are:", keys);
        return console.log("bars_ordered are:", this.bars_ordered);
      };

      Permutation_Histogram.prototype.display_graph = function() {
        return $.jqplot('permutation_histogram', [this.bars_ordered], {
          title: 'Permutation Histogram',
          seriesDefaults: {
            renderer: $.jqplot.BarRenderer,
            rendererOptions: {
              barWidth: 15
            },
            pointLabels: {
              show: true
            }
          },
          axesDefaults: {
            labelRenderer: $.jqplot.CanvasAxisLabelRenderer
          },
          axes: {
            xaxis: {
              min: 0,
              label: "LRS",
              pad: 1.1
            },
            yaxis: {
              min: 0,
              label: "Frequency"
            }
          }
        });
      };

      return Permutation_Histogram;

    })();
    return new Permutation_Histogram;
  });

}).call(this);
